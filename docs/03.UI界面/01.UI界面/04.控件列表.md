---
title: 控件列表
date: 2099-03-05 21:25:02
permalink: /ui/控件列表
categories:
  - UI界面
tags:
  - UI界面
---
# 控件列表

> 云拾UI框架的完整控件参考手册

⚠️ **阅读前提示**  
请确保已阅读 **[结构详解 | 新手教程]** 中的基础概念，包括容器、控件、相对布局等核心知识。

## 一、容器控件

### Grid 网格容器
> 最灵活的布局容器，支持行列定义和复杂布局

```yaml
- !Grid # 网格容器
  rows: 
    - height: 20        # 固定高度20单位
    - height: 2*        # 2倍比例高度（按权重分配剩余空间）
    - height: Auto      # 自适应高度（根据内容自动调整）
  columns:
    - width: 10         # 固定宽度10单位
    - width: 5*         # 5倍比例宽度
    - width: Auto       # 自适应宽度
```

**特性说明：**
- **精确控制**：通过行(rows)和列(columns)定义网格结构
- **灵活尺寸**：支持固定值、比例权重(*)、自适应(Auto)三种尺寸模式
- **自由定位**：子控件可以放置在任意网格单元格中

### StackPanel 堆叠容器
> 线性排列子组件，自动管理组件间距和顺序

```yaml
- !StackPanel # 堆叠容器
  orientation: Vertical  # 排列方向：Horizontal(横向) / Vertical(纵向)
  spacing: 5            # 子组件间距（暂未实现）
  children:
    - !TextBlock
      text: 第一行文本
    - !TextBlock  
      text: 第二行文本
    - !TextBlock
      text: 第三行文本
```

**特性说明：**
- **自动排列**：子控件按指定方向顺序排列，无需手动定位
- **无重叠**：控件自动避开，不会相互重叠
- **适合场景**：列表、菜单、工具栏等线性布局

### WrapPanel 换行容器
> 自动换行布局，空间不足时自动换到下一行

```yaml
- !WrapPanel  # 换行容器
  orientation: Horizontal  # 排列方向：Horizontal(横向) / Vertical(纵向)
  horizontalSpacing: 5    # 横向间距（暂未实现）
  verticalSpacing: 3      # 纵向间距（暂未实现）
  itemWidth: 30           # 统一子组件宽度（暂未实现）
  itemHeight: 40          # 统一子组件高度（暂未实现）
  children: 
    - !Image
      width: 50
      height: 50
      source: texture://icon1.png
    - !Image
      width: 50
      height: 50  
      source: texture://icon2.png
    # 更多子组件...
```

**特性说明：**
- **自动换行**：一行放不下时自动换到下一行
- **流式布局**：类似网页的流式布局效果
- **适合场景**：图标网格、标签云、物品栏

### ScrollView 滚动框容器
> 为内容添加滚动条，支持超大内容区域

```yaml
- !ScrollView # 滚动框容器
  # 垂直滚动条配置
  verticalBarSize: 20                    # 垂直滚动条宽度
  verticalTrackBrush: Red                # 垂直滚动条轨道颜色/纹理
  verticalThumbBrush: texture://slider.png   # 垂直滚动条滑块样式
  verticalBarVisibility: Visible         # 垂直滚动条可见性
  
  # 水平滚动条配置  
  horizontalBarSize: 20                  # 水平滚动条高度
  horizontalTrackBrush: Red              # 水平滚动条轨道颜色/纹理
  horizontalThumbBrush: texture://slider.png # 水平滚动条滑块样式
  horizontalBarVisibility: Visible       # 水平滚动条可见性
  
  # 子元素（只能有一个直接子元素）
  child:
    - !Grid
      children: 
        - !Button
          text: 可滚动内容中的按钮
```

**滚动条可见性选项：**
- `Visible` - 始终显示
- `Hidden` - 隐藏但保留空间
- `Collapsed` - 完全隐藏不占空间
- `Auto` - 需要时自动显示

### Border 边框容器
> 为子内容添加边框和背景的装饰容器

```yaml
- !Border
  borderThickness: 5    # 边框厚度
  borderBrush: Red      # 边框颜色/纹理
  cornerRadius: 5       # 圆角半径
  background: 0x80FFFFFF # 背景颜色（可选）
  child:                # 子元素（只能有一个）
    - !TextBlock
      text: "带边框的文本"
```

**特性说明：**
- **装饰效果**：主要用于视觉装饰和分组
- **圆角支持**：通过cornerRadius实现圆角效果
- **单一子元素**：只能包含一个直接子元素

### Canvas 画布容器
> 支持绝对定位的自由布局容器 没有特殊需求永远不要使用！！！

```yaml
- !Canvas
  # 画布容器允许子元素使用绝对坐标定位
  children:
    - !TextBlock
      text: "绝对定位文本"
      # 在画布中使用Canvas.Left和Canvas.Top定位
      Canvas.Left: 100  # 距离左边100单位
      Canvas.Top: 50    # 距离顶部50单位
```

## 二、基础控件

### TextBlock 文本块
> 显示文本内容的基础控件

```yaml
- !TextBlock
  # 文本内容
  text: 示例文本                # 显示的文本内容
  placeholder: 请输入你的文字    # 空状态时的占位符文本
  placeholderBrush: 0xFFFF0000  # 占位符颜色
  
  # 文本样式
  fontSize: 15                  # 文字大小
  fontFamily: font://mi_sans.ttf     # 字体文件路径
  fontForeground: Red           # 文字颜色（支持颜色值：0xAAFF0000 或 #AAFF0000）
  fontBackground: Blue          # 文字背景颜色
  bold: false                   # 粗体
  italic: false                 # 斜体  
  underline: false              # 下划线
  strikethrough: false          # 删除线
  
  # 文本布局
  textAlignment: Center         # 文本对齐：Left/Center/Right
  lineHeight: 10                # 行高
  maxLines: 5                   # 最大行数
  minLines: 1                   # 最小行数
  singleLine: true              # 是否单行显示
  ellipsize: Start              # 文本省略位置：Start/Middle/End
  baselineOffset: 5             # 基线偏移量
  
  # 交互功能
  selectable: true              # 文本是否可选
  inputType: Password           # 输入类型：Text(普通文本)/Password(密码模式)
  cursorVisible: true           # 光标是否可见
  inputFilters:                 # 输入过滤器
    - Digits                    # 只允许数字输入
  
  # 高级功能
  richTextType: Vanilla         # 富文本类型
  typewriter: true              # 是否启用打字机效果
  highlightBrush: 0xFFFF0000    # 文本高亮颜色
```

**输入过滤器选项：**
- `Digits` - 只允许数字
- `Letters` - 只允许字母
- `NoSpaces` - 不允许空格
- `UpperCase` - 自动转为大写
- `LowerCase` - 自动转为小写

### Button 按钮
> 可点击的交互按钮，继承TextBlock的所有属性

```yaml
- !Button
  text: 点击按钮                # 按钮文本
  width: 120                   # 按钮宽度
  height: 40                   # 按钮高度
  background: texture://button_bg.png  # 按钮背景
  fontForeground: 0xFFFFFFFF   # 按钮文字颜色
  
  # 事件处理
  events:
    click: |-
      Chat.send("按钮被点击了！")
```

**继承特性：**
- 拥有TextBlock的所有文本相关属性
- 支持所有文本样式和布局配置
- 额外提供按钮特有的交互状态

### TextBox 文本框
> 可编辑的文本输入框，继承TextBlock的所有属性

```yaml
- !TextBox
  text: 可编辑文本             # 初始文本内容
  placeholder: "请输入内容..."  # 输入提示
  fontSize: 14
  width: 200
  height: 30
  
  events:
    textChanged: |-
      // 文本内容变化时触发
      Chat.send("输入内容: " + self.text)
```

**继承特性：**
- 支持TextBlock的所有文本显示功能
- 额外提供文本编辑和输入处理能力

### Image 图片
> 显示图片资源的控件

```yaml
- !Image
  source: texture://ui/icon.png  # 图片源（支持任意Brush类型）
  width: 64                      # 图片宽度
  height: 64                     # 图片高度
```

## 三、特殊控件

### ProgressBar 进度条
> 显示进度信息的可视化控件

```yaml
- !ProgressBar
  progressBrush: texture://progress_fill.png  # 进度条填充样式
  min: 0                           # 最小值
  max: 10000                       # 最大值（通常不建议修改）
  progress: 5000                   # 当前进度值（介于min-max之间）
  progressBrush: Red               # 进度条样式
  secondaryProgress: 7000          # 二级进度值（如缓冲进度）
  secondaryProgressBrush: Red      # 二级进度条样式
  indeterminate: false             # 不确定模式（动态加载效果）
  indeterminateBrush: Blue         # 不确定模式样式
  width: 200
  height: 20
```

**使用场景：**
- 经验条、血量条
- 加载进度显示
- 任务完成度指示

### SlotView 槽位视图
> 显示物品栏槽位的专用控件

```yaml
- !SlotView
  identifier: slot_0               # 槽位标识符（对应游戏内槽位）
  rendering: false                 # 是否渲染槽位内容
  slotFillBackground: texture://slot_filled.png  # 有物品时的背景
  slotEmptyBackground: Red         # 空槽位背景
  slotFillForeground: Blue         # 有物品时的前景装饰
  slotEmptyForeground: Red         # 空槽位前景装饰
  itemScale: 1.0                   # 槽位内物品的显示缩放
```

### EntityView 实体视图
> 在UI中渲染3D实体模型的控件

```yaml
- !EntityView
  entity: Self        # 显示目标：Self(玩家自身)/Cursor(光标所指实体)
  rendering: true     # 是否渲染实体
  followMouse: true   # 是否跟随鼠标旋转
  entityScale: 1.0    # 实体模型缩放
  entityName: aa      # 覆盖实体名称显示
  entityModel: model/character.bbmodel # 自定义实体模型
  entityTexture: model/character.png   # 自定义实体纹理
  entityAnimation: model/character.json # 自定义实体动画
  entityUUID: XXXXX   # 显示指定UUID的实体
  width: 100
  height: 150
```

### ItemView 物品视图
> 显示特定物品的控件

```yaml
- !ItemView
  identifier: slot_0              # 关联的槽位标识符
  rendering: false                # 是否渲染物品
  itemStack: '{"id":"minecraft:diamond", "Count":1}'  # 直接指定物品JSON
  itemScale: 1.0                  # 物品显示缩放
```

### MediaView 媒体视图
> 播放视频和音频的媒体控件

```yaml
- !MediaView
  url: https://example.com/video.mp4  # 媒体文件URL
  repeat: true      # 是否循环播放
  rate: 1           # 播放速率（1.0为正常速度）
  volume: 1         # 音量（0.0-1.0）
  position: 0       # 播放位置（秒）
  width: 320
  height: 240
```

### SpineView 骨骼动画视图
> 显示Spine骨骼动画的控件

```yaml
- !SpineView
  alignment: TopLeft      # 动画对齐方式
  rendering: true         # 是否渲染动画
  contentMode: Fill       # 内容填充模式
  atlas: spine/character.atlas      # Spine图集文件
  skeleton: spine/character.skel    # Spine骨骼文件
  width: 200
  height: 300
```

### WebView 浏览器视图
> 内嵌网页浏览器控件

```yaml
- !WebView
  url: https://www.example.com  # 网页URL地址
  width: 800
  height: 600
  
  events:
    loadFinished: |-
      Chat.send("网页加载完成")
```

## 容器选择指南

| 控件类型 | 主要用途 | 特点 |
|---------|----------|------|
| **Grid** | 复杂布局 | 行列网格，精确定位 |
| **StackPanel** | 线性排列 | 自动顺序排列 |
| **WrapPanel** | 流式布局 | 自动换行 |
| **ScrollView** | 内容滚动 | 添加滚动条 |

> 合理组合使用这些控件，可以创建出功能丰富、界面美观的云拾UI界面。