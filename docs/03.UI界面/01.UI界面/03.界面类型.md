---
title: 界面类型
date: 2099-03-05 21:25:02
permalink: /ui/界面类型
categories:
  - UI界面
tags:
  - UI界面
---
# 界面类型详解
> 根类型 - UI的载体与容器

## Segment 片段
> GUI HUD的主要载体，用于创建游戏界面和抬头显示

### 基础配置
```yaml
!Segment
name: segment # 片段名称
openAnimation: flip_in_y  # 打开动画（支持动画名或动画文件）
closeAnimation: flip_in_x # 关闭动画
fadeAnimation: fade_in    # 淡入动画
enterTransition: explode  # 进入过渡效果
cursorItemSize: 54 # 背包拖曳物品显示大小
events:
  attached: |
    self.enterTransition = Transitions.get('slide'); # 动态设置过渡效果
layout:
- !Grid {}
```

## ToolTip 工具提示
> 用于物品提示和组件提示的浮动信息框

### 基础配置
```yaml
!ToolTip
tipXOffset: 10 # 设置提示框的X轴偏移量
tipYOffset: 10 # 设置提示框的Y轴偏移量
layout:
- !Grid {}
```

### 特性说明
- **自动定位**：根据鼠标位置自动调整显示位置
- **偏移控制**：通过`tipXOffset`和`tipYOffset`微调显示位置
- **悬停触发**：通常在鼠标悬停时显示

### 使用场景
- 物品属性说明
- 按钮功能提示
- 图标含义解释

## Component 组件
> 可复用的组件模板，常用于聊天栏自定义UI组件

### 基础配置
```yaml
!Component
layout:
- !Grid {}
```

### 主要特性
- **高度复用**：同一组件可在多个界面中重复使用
- **模块化设计**：将复杂UI拆分为独立组件
- **独立作用域**：组件拥有独立的数据和事件作用域

### 使用场景
- 聊天消息自定义样式
- 可复用的UI元素（如状态栏、头像等）
- 模块化界面组件

## Popup 弹出框
> 临时性弹出界面，用于显示额外信息或操作

### 基础配置
```yaml
!Popup
layout:
- !Grid {}
```

### 特性说明
- **临时显示**：不占用主界面空间
- **模态可选**：可设置为模态或非模态
- **灵活定位**：可自定义显示位置

### 使用场景
- 设置菜单
- 确认对话框
- 详细信息展示
- 快捷操作面板

## Dialog 对话框
> 内容提示和交互对话框，用于重要信息展示和用户确认

### 基础配置
```yaml
!Dialog
layout:
- !Grid {}
```

### 主要特性
- **突出显示**：在界面层级中位于最前
- **标准样式**：通常包含标题、内容、操作按钮

### 使用场景
- 确认操作（删除、退出等）
- 重要信息提示
- 用户输入收集
- 系统通知

## ContextMenu 上下文菜单
> 右键菜单，通过控件的contextMenu属性关联显示

### 基础配置
```yaml
!ContextMenu
layout:
- !StackPanel
  children:
  - !TextBlock
    text: 条目1
    fontSize: 12
    events:
      click: |
        Chat.sendSelf('条目1点击');
  - !TextBlock
    text: 条目2
```

### 关联使用方法
```yaml
- !Button
  text: "右键我有菜单"
  contextMenu: "context_menu.yml"  # 关联上下文菜单文件
```

### 主要特性
- **右键触发**：通过右键点击控件显示
- **快捷操作**：提供针对特定内容的快速操作
- **精确定位**：在鼠标位置附近显示
- **自动关闭**：点击菜单外区域自动关闭

### 使用场景
- 物品右键菜单
- 文本操作菜单（复制、粘贴等）
- 列表项操作菜单
- 自定义工具菜单

## 界面类型选择指南

| 界面类型 | 适用场景 | 特点 | 用户交互 |
|---------|----------|------|----------|
| **Segment** | 主界面、HUD、游戏UI | 持久显示，功能完整 | 主要操作界面 |
| **ToolTip** | 提示信息、说明文字 | 临时浮动，信息展示 | 悬停查看 |
| **Component** | 可复用UI元素、聊天组件 | 模块化，嵌入使用 | 集成在其它界面中 |
| **Popup** | 临时操作、快捷设置 | 弹出显示，轻量级 | 快速操作后关闭 |
| **Dialog** | 重要确认、用户输入 | 模态显示，需要响应 | 必须交互后关闭 |
| **ContextMenu** | 右键菜单、快捷操作 | 上下文相关，精确定位 | 右键触发 |

> 根据具体需求选择合适的界面类型，可以创建出既美观又实用的用户界面体验。