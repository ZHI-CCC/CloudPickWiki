---
title: 判断Tacz手持枪械扳机
date: 2099-03-05 21:25:02
permalink: /js/判断Tacz手持枪械扳机
categories:
  - 脚本
tags:
  - 脚本
---
# 使用Nashorn读取Tacz的类判断手持枪械是否为开放式扳机
```javascript
//导入必须的类
var Bolt = Java.type("com.tacz.guns.resource.pojo.data.gun.Bolt");
var TimelessAPI = Java.type("com.tacz.guns.api.TimelessAPI");
var ResourceLocation = Java.type("net.minecraft.resources.ResourceLocation");
//主要判断函数
function isOpenBolt(gunIdString) {
    if (gunIdString == null || typeof gunIdString !== 'string') {
        return false;
    }
      
    var gunId = new ResourceLocation(gunIdString);
    var gunData = TimelessAPI.getClientGunIndex(gunId)
        .map(function(index) { 
            return index.getGunData(); 
        })
        .orElse(null);
      
    return gunData != null && gunData.getBolt() === Bolt.OPEN_BOLT;
}
//使用办法
//给函数输入NBT上获取的 GunId 的值就会返回布尔值
//isOpenBolt("tacz:rpg7") true
```